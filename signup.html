<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WalletWise - Sign Up</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
</head>
<body class="bg-light">

  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div class="card shadow p-4">
          <h3 class="text-center mb-4 text-info fw-bold sticky-top">Create Your WalletWise Account</h3>
          <form id="signupForm">
            <!-- Full Name -->
            <div class="row">
              <div class="mb-3 col-md-4">
                <label for="surname" class="form-label">Surname</label>
                <input type="text" id="surname" class="form-control" required>
              </div>
              <div class="mb-3 col-md-4">
                <label for="middleName" class="form-label">Middle Name</label>
                <input type="text" id="middleName" class="form-control">
              </div>
              <div class="mb-3 col-md-4">
                <label for="lastName" class="form-label">Last Name</label>
                <input type="text" id="lastName" class="form-control" required>
              </div>
            </div>

            <!-- Gender and DOB -->
            <div class="row">
              <div class="mb-3 col-md-6">
                <label for="gender" class="form-label">Gender</label>
                <select id="gender" class="form-select" required>
                  <option value="">Choose...</option>
                  <option>Male</option>
                  <option>Female</option>
                  <option>Other</option>
                </select>
              </div>
              <div class="mb-3 col-md-6">
                <label for="dob" class="form-label">Date of Birth</label>
                <input type="date" id="dob" class="form-control" required>
              </div>
            </div>

            <!-- State and Nationality -->
            <div class="row">
              <div class="mb-3 col-md-6">
                <label for="state" class="form-label">State of Origin</label>
                <input type="text" id="state" class="form-control" required>
              </div>
              <div class="mb-3 col-md-6">
                <label for="nationality" class="form-label">Nationality</label>
                <input type="text" id="nationality" class="form-control" required>
              </div>
            </div>

            <!-- Email -->
            <div class="mb-3">
              <label for="email" class="form-label">Email address</label>
              <input type="email" id="email" class="form-control" required>
            </div>

            <!-- Password -->
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <div class="input-group">
                <input type="password" id="password" class="form-control" required>
                <span class="input-group-text" onclick="togglePassword('password', this)">
                  <i class="fas fa-eye"></i>
                </span>
              </div>
            </div>

            <!-- Confirm Password -->
            <div class="mb-3">
              <label for="confirmPassword" class="form-label">Confirm Password</label>
              <div class="input-group">
                <input type="password" id="confirmPassword" class="form-control" required>
                <span class="input-group-text" onclick="togglePassword('confirmPassword', this)">
                  <i class="fas fa-eye"></i>
                </span>
              </div>
            </div>

            <!-- Submit -->
            <div class="d-grid mt-4">
              <button type="submit" class="btn btn-info">Sign Up</button>
            </div>
            <div class="text-center mt-3">
              Already have an account? <a href="signin.html">Sign in</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    function togglePassword(inputId, el) {
      const input = document.getElementById(inputId);
      const icon = el.querySelector('i');
      if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      } else {
        input.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      }
    }

    document.getElementById("signupForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const confirmPassword = document.getElementById("confirmPassword").value;

      if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
      }

      // Check if user already exists
      const existingUser = JSON.parse(localStorage.getItem(email));
      if (existingUser) {
        alert("Account already exists. Please sign in.");
        window.location.href = "signin.html";
        return;
      }

      // Save user data
      const userData = {
        surname: document.getElementById("surname").value,
        middleName: document.getElementById("middleName").value,
        lastName: document.getElementById("lastName").value,
        gender: document.getElementById("gender").value,
        dob: document.getElementById("dob").value,
        state: document.getElementById("state").value,
        nationality: document.getElementById("nationality").value,
        email: email,
        password: password
      };

      localStorage.setItem(email, JSON.stringify(userData));
      alert("Signup successful!");
      window.location.href = "signin.html";
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
